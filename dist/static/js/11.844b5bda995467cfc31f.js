webpackJsonp([11],{Zac7:function(t,i){},jzGn:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var c=s("wSez"),r=s("vNxg"),e=s("kBI2"),n={data:function(){return{productList:[]}},components:{phone:r.a},computed:{cartList:function(){return this.$store.state.cartList},productDictList:function(){var t={};return this.productList.forEach(function(i){t[i.id]=i}),t},costAlls:function(){var t=this,i=0;return this.cartList.forEach(function(s){i+=t.productDictList[s.id].productPrice*s.count}),i},countAll:function(){var t=0;return this.cartList.forEach(function(i){t+=i.count}),t}},mounted:function(){var t=this;this.$axios.get("/api/list").then(function(i){0==i.data.errno&&(t.productList=i.data.data.product,t.$nextTick(function(){t.scroll=new e.a(t.$refs.wrapper,{click:!0})}))})},methods:{handleCount:function(t,i){i<0&&1===this.cartList[t].count||this.$store.commit("editCartCount",{id:this.cartList[t].id,count:i})},handleDelete:function(t){var i=this.cartList[t].id;this.$store.commit("deleteCart",i)},handleOrder:function(){0!=this.costAll&&this.$store.dispatch("emptyCart").then(function(){Object(c.MessageBox)("提示","购物成功！"),setTimeout(function(){window.location.href="http://localhost:8080/cart"},1e3)})}},filters:{PriceFilter:function(t){return t.toString().replace(/\B(?=(\d{3})+$)/g,",")}}},a={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"cart"},[t._m(0),t._v(" "),s("div",{ref:"wrapper",staticClass:"cart-list"},[s("div",{staticClass:"cart-list-wrapper"},[t._l(t.cartList,function(i,c){return s("div",{key:i.id,staticClass:"cart-list-product"},[s("div",{staticClass:"cart-list-product-img"},[s("img",{attrs:{src:t.productDictList[i.id].image}})]),t._v(" "),s("div",{staticClass:"cart-list-product-text"},[s("span",[t._v(t._s(t.productDictList[i.id].productName))]),t._v(" "),s("br"),t._v(" "),s("span",{staticStyle:{"font-size":"0.5rem",color:"SlateGray"}},[t._v(t._s(t.productDictList[i.id].color))]),t._v(" "),s("span",{staticStyle:{"font-size":"0.5rem",color:"SlateGray"}},[t._v(t._s(t.productDictList[i.id].memory))]),t._v(" "),s("br"),t._v(" "),s("span",{staticStyle:{color:"red","font-size":"0.8rem"}},[t._v("￥"+t._s(t._f("PriceFilter")(t.productDictList[i.id].productPrice*i.count)))]),t._v(" "),s("span",{staticStyle:{color:"#708090","font-size":"0.2rem","text-decoration":"line-through"}},[t._v("￥"+t._s(t._f("PriceFilter")(t.productDictList[i.id].price)))])]),t._v(" "),s("div",{staticClass:"cart-list-product-but"},[s("span",{on:{click:function(i){return t.handleCount(c,-1)}}},[t._v("-")]),t._v(" "),s("span",[t._v(t._s(i.count))]),t._v(" "),s("span",{on:{click:function(i){return t.handleCount(c,1)}}},[t._v("+")])]),t._v(" "),s("div",{staticClass:"cart-control-delete"},[s("span",{on:{click:function(i){return t.handleDelete(c)}}},[t._v("删除")])])])}),t._v(" "),t.cartList.length?t._e():s("div",{staticClass:"cart-empty"},[s("i",{staticClass:"iconfont",attrs:{slot:"icon"},slot:"icon"},[t._v("")]),t._v("购物车为空！\n      ")]),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"cart-list-product-phone"},[s("phone")],1)],2)]),t._v(" "),t.cartList.length?s("div",{staticClass:"cart-footer"},[s("span",{staticStyle:{"padding-left":"1rem"}},[t._v("\n      共\n      "),s("span",{staticStyle:{color:"red","font-size":"0.7rem"}},[t._v(t._s(t.countAll))]),t._v("件商品\n    ")]),t._v(" "),s("span",[t._v("\n      应付金额\n      "),s("span",{staticStyle:{color:"red","font-size":"0.7rem"}},[t._v("￥"+t._s(t._f("PriceFilter")(t.costAlls)))])]),t._v(" "),s("span",{staticClass:"cart-control-order",on:{click:t.handleOrder}},[t._v("结算")])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"cart-header"},[i("span",[this._v("购物车")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"cart-list-product-recommend"},[i("span",{staticStyle:{"font-size":"0.5rem",color:"#ddd","padding-right":"0.3rem"}},[this._v("—")]),this._v(" "),i("span",{staticStyle:{"font-size":"0.6rem",color:"darkslategrey"}},[this._v("为你推荐")]),this._v(" "),i("span",{staticStyle:{"font-size":"0.5rem",color:"#ddd","padding-left":"0.3rem"}},[this._v("—")])])}]};var o=s("VU/8")(n,a,!1,function(t){s("Zac7")},"data-v-23d366f8",null);i.default=o.exports}});
//# sourceMappingURL=11.844b5bda995467cfc31f.js.map